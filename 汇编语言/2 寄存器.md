# 第 2 章   寄存器

​	一个典型的CPU由运算器, 控制器, 寄存器(CPU工作原理)等器件构成. 这些器件靠内部总线相连. 前一章的总线, 相对于CPU内部来说是外部总线. 内部总线实现CPU内部各个器件之间的联系, 外部总线实现CPU和主板上其他器件的联系. 简单地说, 在CPU中:

* 运算器进行信息处理

* 寄存器进行信息存储

* 控制其控制各种器件进行工作

* 内部总线链接各种器件, 在他们之间进行数据的传送.

  

​    对于一个汇编程序员来说, CPU中的主要部件是寄存器. 寄存器是CPU中程序员可以用指令读写的部件. 程序员通过改变各种寄存器中的内容来实现对CPU的控制.

​	不同的CPU,寄存器的个数, 结构是不同的. 8086CPU由14个寄存器, 每个寄存器都有一个名称.这些寄存器是: AX, BX, CX, DX, SI, DI, SP, BP, IP, CS, SS, DS, ES, PSW. 



## 2.1 通用寄存器

8086CPU的所有寄存器都是16位的, 可以存放两个字节. AX, BX, CX, DX这4个寄存器通常用来存放一般性的数据, 被称为通用寄存器.

## 2.2 字在寄存器中的存储

* 字节: 记为byte, 一个字节由8个bit组成, 可以存在8位寄存器中
* 字: 记为word, 一个字由两个字节组成, 这两个字节分别称为这个字的高位字节和低位字节.

为了区分进制, 在十六进制表示的数据后面加H, 在二进制表示的数据后面加B, 十进制数据后面什么都不加

## 2.3 几条汇编指令



| 汇编指令  |        控制CPU完成的操作        | 用高级语言的语法描述 |
| :-------: | :-----------------------------: | :------------------: |
| mov ax,18 |        将18送入寄存器AX         |        AX=18         |
| mov ah,78 |        将78送入寄存器AH         |        AH=78         |
| add ax,8  |     将寄存器AX中的数值加上8     |       AX=AX+8        |
| mov ax,bx | 将寄存器BX中的数据送入寄存器AX  |        AX=BX         |
| add ax,bx | 将AX和BX中的值相加,结果存在AX中 |       AX=AX+BX       |

**注意: 指令和寄存器名称不分大小写!!**

问题2.1 : 044c h?

|  AH  |  AL  |  BH  |  BL  |
| :--: | :--: | :--: | :--: |
|  00  |  1A  |  00  |  00  |
|  00  |  1A  |  00  |  26  |
|  00  |  40  |  00  |  26  |
|  26  |  40  |  00  |  26  |
|  26  |  40  |  40  |  26  |
|  00  |  40  |  40  |  26  |
|  00  |  C5  |  40  |  26  |
|  01  |  58  |  40  |  26  |

## 检测点 2.1

```assembly
(1)
AX = F4A3H
AX = 31A3H
AX = 3123H
AX = 6246H
BX = 826CH
CX = 6246H
AX = 826CH
AX = 04D8H
AX = 0482H
AX = 4682H  --> 6C82H
AX = 8C82H  --> D882H
AX = 8C88H  --> D888H
AX = 8D10H  --> D910H x --->D810H
AX = 6246H
(2)
ADD AX,2
ADD AX,AX
ADD AX,AX
ADD AX,AX
```

注意: 在进行数据传送或运算时，要注意指令的两个操作对象的位数应当是一致的

例如:

```assembly
mov ax,bx
mov bx,cx
mov ax,18H
mov al,18H
add ax,bx
add ax,20000
```

都是正确的,但是下面的都是错误的,因为两个操作对象的位数不一致:

```assembly
rnov ax,bl  	 	（在8 位寄存器和16 位寄存器之间传送数据）
rnov bh,ax  		（在16 位寄存器和8 位寄存器之间传送数据）
rnov al,20000 		(8 位寄存器最大可存放值为255 的数据）
add al,lOOH 		（将一个高于8 位的数据加到一个8 位寄存器中）

```

## 2.4 物理地址

CPU 访问内存单元时，要给出内存单元的地址. 所有的内存单元构成的
存储空间是一个一维的线性空间, 每一个内存单元在这个空间中都有唯一的地址, 我们将
这个唯一的地址称为物理地址.

CPU 通过地址总线送入存储器的，必须是一个内存单元的物理地址.



## 2.5 16位的CPU

概括地讲， 16 位结构(16 位机、字长为16 位等常见说法，与16 位结构的含义相同）
描述了一个CPU 具有下面几方面的结构特性。

*   运算器一次最多可以处理16 位的数据;

*   寄存器的最大宽度为16 位;
*   寄存器和运算器之间的通路为16 位.

## 2.6~2.8 段

8086CPU 在访问内存时要由相关部件提供内存单元的段地址和偏移地址，送入地址加法器合成物理地址

## 2.9 段寄存器

8086CPU 有4 个段寄存器： CS 、DS 、SS 、ES . 当8086CPU 要访问内存时由这4 个段寄存器提供内存单元的段地址