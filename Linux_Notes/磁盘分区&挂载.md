# 磁盘分区和挂载

### 分区的方式

1. MBR分区
    1. 最多支持四个主分区
    2. 系统只能安装在主分区
    3. 拓展分区只要占一个主分区
    4. MBR最大支持2TB,但有用最好的兼容性
2. GPT分区
    1. 支持无限多个主分区(但操作系统可能限制,日入windows下最多128个分区)
    2. 最大支持18EB的容量(EB=1024PB,PB=1024TB)
    3. windows7 63位以后支持GPT

### Linux分区

1. Linux无论有几个分区,分给哪一个目录使用,归根到底就只有一个根目录, 一个堵路且唯一的文件结构.Linux中每个分区都是用来组成整个系统文件的一部分.
2. Linux采用了一种加"载入"的处理方法, 它的整个文件系统中包含了一整套的文件和目录, 且将一个分区和一个目录联系起来, 这时要载入的一个分区将使它的存储空间在一个目录下获得.

```
# lsblk [-f]   ->查看分区情况
```

增加一块硬盘

1. 虚拟机添加硬盘
2. 分区    fdisk /dev/sdb
3. 格式化  mkfs -t ext4 /dev/sdb1
4. (临时)挂载   先创建一个 /home/newdisk  挂载: mount /dev/sdb1 /hoome/newdisk
5. (永久)设置可以自动挂载 vim /etc/fstab  , 修改一些内容



### 磁盘情况查询

1. 磁盘整体使用情况

    基本语法

    > df -lh

2. 查询指定目录的磁盘占用情况

    基本语法

    > du -h 目录
    >
    > -s 指定目录占大小汇总
    >
    > -h 带计量单位
    >
    > -a  含文件
    >
    > --max-depth=1  子目录深度
    >
    > -c 列出明细的同事,增加汇总值

常用实用指令

1. 统计/home文件夹下文件个数

    > ls -l /home | grep "^-" | wc -l

2. 统计/home文件夹下目录个数

    > ls -l /home | grep "^d" | wc -l

3. 统计/home文件夹下文件的个数, 包括子文件夹例的

    > ls -lR /home | grep "^-" | wc -l

4. 统计文件夹下目录的个数,包括子文件夹里的

    > ls -lR /home | grep "^d" | wc -l

5. 以树状显示目录结构

    > yum install tree
    >
    > sudo apt-get install tree
    >
    > tree [目录]





