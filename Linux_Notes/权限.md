# 组合权限管理

## 组的介绍

>Every user must belong to a group; every file must belong to a user, group, other group (exclude belonging group).
1. 查看所有者
   
   >ls -all
   >
   >id 用户名 ->(查看用户所在组)
2. 改变文件所有者
   >chown username filename
   >
   >chown newowner:newgroup filename
   >
   >-R  -> 递归修改一个目录下的所有子文件或目录

3. 改变文件所在组

   > chgrp 组名 文件名
   >
   > chgrp -R groupname filename

其他组: 除了文件所有者和所在组的用户外, 系统的其他用户都是文件的其他组

* 改变用户所在组
  	1. usermod -g 组名 用户名
   	2. usermod -d 目录名 用户名  ->(改变用户登录的初始目录)



## **权限的基本介绍(重要)



ls 命令显示的前面一串字符表示的含义: 

|   字符位置   |             意义             |
| :----------: | :--------------------------: |
|  第1个字符   |           文件类型           |
| 第2-4个字符  |       文件拥有者的权限       |
| 第5-7个字符  |  文件所在组的用户拥有的权限  |
| 第8-10个字符 | 文件的其他组的用户拥有的权限 |

ls 命令显示的字符串后面的数字: **如果是文件,表示硬链接的个数; 如果是目录, 则表示该目录的子目录有多少个**

ls 命令显示数字后是所有者用户名 然后是所在组名

ls 命令所在组名后面是文件大小; 如果是目录,统一显示4096. 然后是文件最后的修改时间 

### 文件类型

| 符号 |        类型         |
| :--: | :-----------------: |
|  -   |      普通文件       |
|  d   |        目录         |
|  l   |       软连接        |
|  c   | 字符设备(键盘,鼠标) |
|  b   |    块文件, 硬盘     |



### rwx权限详解

|    字符    |                 作用到文件                 |             作用到目录              |
| :--------: | :----------------------------------------: | :---------------------------------: |
|  [r]read   |               可以读取,查看                |     可以读取, ls可查看目录内容      |
|  [w]write  | 可以修改,但是不可删除 (前提要对目录有写权) | 可以修改,目录内创建,删除,重命名目录 |
| [x]execute |                 可以被执行                 |           可以进入该目录            |
|    [-]     |                   填充物                   |               填充物                |
|            |                                            |                                     |

### 用数字表示rwx

* **r=4	w=2	x=1**
* **rwx=7**

## 修改(管理)权限

通过 **chmod** 指令

1. +, -, =变更权限

   u: 所有者	g: 所在组	o: 其他人	a: 所有人(u,g,o的总和)

   2. chmod u=rwx g=rx, o=x 文件或目录名
   3. chmod o+w 文件或目录名
   4. chmod a-x 文件或目录名

2. chmod 3个数字

   r=4	w=2	x=1