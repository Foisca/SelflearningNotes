# 第一章　绪论

## 1.1 MATLAB中的科学计算概念

### 1.1.1 MATLAB的发展概况

​	MATLAB是由美国Mathworks公司推出的用于数值计算和图形处理的科学计算软件. (MATrix LABoratory) 矩阵实验室.

​	MATLAB是一个功能十分强大的系统,是集数据计算,图形管理和程序开发为一体的科学计算环境. 除此之外, MATLAB还具有很强的拓展功能, 它的主系统一起, 可以配置各种各样的工具箱, 完成一些特定的任务, 而且用户可以根据自己的工作任务, 开发自己的工具箱.

​	在很多高校里,MATLAB是攻读学位的大学生, 硕士生, 博士生必须掌握的基本工具. 在国际学术界, MATLAB已经被确认为准确, 可靠的科学计算标准软件. 在许多国际一流学术刊物上, 都可以考到关于MATLAB应用的论文. 在宿舍及研究单位和工业部门, MATLAB被认为是进行高效研究与开发的首选软件工具.

### 1.1.2 MATLAB进行科学计算的优势

​	MATLAB科学计算环境, 具有强大的计算绘图能力, 提供大量的函数库, 工具性, 几乎涵盖了所有的工程计算领域, 被誉为"演算纸"式的工程计算工具. MATLAB进行科学计算的优势主要可以概括为以及下几点:

1. MATLAB集成了几乎所有的科学研究和工程计算需要的算法, 非常便于进行科学计算, 而且默认数据结构式双精度数组, 能实现高精度的科学计算.
2. MATLAB将高性能的数值计算和可视化集成在一起,并提供大量的内置函数和开放的程序和数据接口, 因为广泛地应用与科学计算, 控制系统与信息处理等领域的分析, 仿真和设计工作.
3. MATLAB包含各种能够进行常规运算的工具箱, 如常用的矩阵代数运算, 数组求算, 方程求根, 优化计算, 以及函数求导积分符号运算等; 同时还提供了编程计算的编程特性, 通过编程解决一些复杂的工程问题. 在MATLAB中可绘制二维, 三维图形, 使输出结果可视化. 这些强大的功能为科学计算带来了方便.
4. MATLAB语言是一种解释执行的脚本语言, 简单易学, 使用MATLAB软件进行科学计算, 能够极大加快科研人员进行研究开发的进度, 减少编写程序和开发算法方面消耗的时间和经费支出, 从而获得最大的效能.

## MATLAB的基本操作

​	MATLAB是一个具有高度封装性的软件包, 其内部的程序包都提供了输入输出端口, 用户可以方便地进行学习和使用.

### 1.2.1 M文件操作及常用查询命令

​	MATLAB程序文件是以 .m 扩展名形式保存(M文件). 一个M文件是一个封装的程序, 提供输入输出接口, 实现特定的功能. 用户可以直接在命令窗口中运行这个程序: 输入文件名(程序名)和相关参数即可; 也可以在其他M文件中调用这个程序.

1. M文件操作

   * 创建...

   * 如果用户需要执行的M文件不在当前路径中, 文件名不会被MATLAB识别. 此时需要将M文件所在的目录加入MATLAB路径中.

2.  常用查询命令

   > help "想查询的命令名称"
   >
   > loopfor "想查询的命令名称"

## 数据的输入输出

​	MATLAB将所有输入数据都存储在固定位置. 这些数据包括用户直接从命令窗口输入的, 由文件输入或者从键盘输入的数据. MATLAB会保存这些数据知道clear命令出现或者用户推出matlab为止.

### 1. 通过MATLAB命令窗口输入/输出数据

​	MATLAB的一个显著特征是它处理向量/矩阵的方式与处理标量的方式类似, 具体如下:

* [例1-1MATLAB命令窗口的输入/输入操作实例.从命令窗口输入以下矩阵:

* $$
  A=\left[\begin{matrix}1,2,3,4\end{matrix}\right],
  B=\left[\begin{matrix}1\\2\\3\end{matrix}\right],
  C=\left[\begin{matrix}1&2&3\\4&5&6\\7&8&9\end{matrix}\right]
$$
  
解: 输入
  
  ```matlab
  >> A=[1 2 3 4]
  >> B=[1; 2; 3]
  >> C=[1 2 3;4 5 6;7 8 9]
```
  
  如果用户想要实时检查命令,可以在命令之后直接按回车,命令结果将显示在命令窗口.反之,以分号";" 结尾,在按下回城后没有任何结果显示.

### 2. 通过文件输入/输出数据

MATLAB可以处理两类数据文件

1.  二进制文件, 扩展名为 .mat . 该文件能够保存过／＊个变量的值, 但在被MATLAB处理时不能被其他程序共享

2.  ASCII 文件,扩 展名为.dat.它仅能保存一个变量值, 却能被多个程序共享.

   * [例 1-2].mat 文件读写的实例

   解: 在命令行中输入:

   ```MATLAB
   >>save MyDatFile C　Ｂ　Ａ　％保存数据，　默认保存类型为二进制文件，此时在当前工作目录下
   >>clear A B C  %清空内存
   >>C  %此时已经没有C的记录
   >>load MyDatFile C B A  %从.mat文件中读取变量
   >>C    % OK
   ```

   输出结果为:

   ```matlab
   C=
   
   	1 2 3
   
   	4 5 6
   
   	7 8 9
   ```

   

   * [例 1-3] ASCII文件的读写实例

   解: 在命令行中输入:

   ```matlab
   >> save MyASCIIFile.dat C  %保存ASCII文件为MyASCIIFile.dat
   >> load MyASCIIFile.dat %读取文件
   >> MyASCIIFile  %显示文件
   ```

   输出结果为:

   ```matlab
   MyASCIIFile = 
   
   	1 2 3
   
   	4 5 6
   
   	7 8 9
   ```

   ​	值得注意的是,如果将字母等非数字形式保存为ASCII类型时, 保存的标量是ASCII码.

   ​	在MATLAB命令窗口中继续输入如下内容:

   

```matlab
>> clear all
>> aa='ee'
>> save aaf.dat aa /ascii
>> clear aa
>> load aaf.dat
>> aaf
```

输出结果为:

```
aaf = 

101 	%ee的ASCII码
```

​	另外, .dat文件保存的是矩阵, 必须保证其每行的列数相同

### 3.从键盘输入数据

​	MATLAB中的input命令提示用户从键盘输入,并将输入的变量在命令窗口中显示出来,例如在命令窗口中输入:

```matlab
>> a=input('Please enter a :')
```

输出为:

```matlab
	Please enete a:
```

如果输入下列向量, 并按回车键后,则输出a的结果如下:

```matlab
[1/3 1/7 1/9]
```

```matlab
a = 

0.3333 		0.1429		0.1111
```

### 4. 输入/输出的数据格式

​	注意,输出数据仅取小数点后4位, 这是MATLAB的数据格式选择决定的. 用户可以通过命令format 自行选择MATLAB的数据格式.

* [例 1-4] 使用format选择数据格式实例.

解: 接着在命令窗口中输入:

```matlab
>> format rat  %有理数格式
>> a
```

输出结果为:

```matlab
a = 

	1/3		1/7		1/9
```

在命令行中输入:

```matlab
>> format long  %14位精度小数
>> a
```

输出结果为:

```matlab
a = 
0.33333333333333  	0.14285713284714	 0.11111111111111


```

其他常见的MATLAB数据格式如 表 1-1 所示

|      格式      |             说明              |       举例       |
| :------------: | :---------------------------: | :--------------: |
|     format     | 短格式(默认显示格式),同short  |      3.1416      |
|  format short  |       短格式, 只显示5位       |      3.1416      |
|  format long   | 长格式, 双精度15位, 单精度7位 | 3.14169265358979 |
| format short e |    短格式e方式(科学计数法)    |   3.1416e+000    |
| format long e  |          长格式e方式          | 3.14169265358979 |
| format short g |          短格式g方式          |      3.1416      |
| format long g  |          长格式g方式          | 3.14169265358979 |
| format compact |       压缩格式/紧凑格式       |                  |
|  format loose  |       自由格式/宽松格式       |                  |

[表 1-1 ]

​	MATLAB可以用不同的格式显示数据, 这些显示结果与内存中的真实数据并不是完全吻合.

​	除此之外, 还可以用disp和fprintf命令来显示结果.disp命令显示变量或字符串内容时,无"x=" 或者 "ans="

​	继续在MATLAB命令窗口中输入:

```matlab
>> disp(a)
```

输出结果为:

```matlab
0.3333		0.1427		0.1111
```

fprintf命令能够以加后缀的方式显示不同的格式.fprintf的格式说明符如 表 1-2 所示.

| 类型附 |      类型      | 字符 |            含义             |
| :----: | :------------: | :--: | :-------------------------: |
|   %c   |     字符型     |  \n  |            换行             |
|   %s   |    字符串型    |  \t  |        水平制表(tab)        |
|   %d   |   十进制整型   |  \b  |            退格             |
|   %f   |     浮点型     |  \r  |            回车             |
|   %e   |   十进制数型   |  \f  | 换页,将当前位置移到下页开头 |
|   %x   |  十六进制整型  |  %%  |              %              |
|  %bx   | 十六进制浮点型 |      |                             |

[ 表 1-2 ]

### 1.2.3 绘制二维图形

​	MATLAB有很强的图形处理功能, 可以方便地实现数据的可视化.

1. 常用的图形输出命令plot

   plot的调用格式有如下三种.

    1. plot(a,'s')

       如果a是实矩阵,则以序列[1,2,3..]为横坐标,分别以各列为纵坐标画曲线. 字符串s设定曲线颜色和绘图方式,用颜色字符串的前1~3个字母制定颜色,如"yellow" 以"y"表示.

       如果a是复合矩阵, 则分别以各列的实部和虚部为横纵坐标画出曲线.

       表 1-3 给出了MATLAB中颜色和线型的选项

       | 字母 | 颜色 |  标点  |  线型  |
       | :--: | :--: | :----: | :----: |
       |  y   | 黄色 |   .    |  点线  |
       |  m   | 粉红 |   o    |  圈线  |
       |  r   | 亮蓝 |   x    |  x线   |
       |  g   | 绿色 |   +    | +字线  |
       |  b   | 蓝色 |   -    |  实线  |
       |  w   | 白色 |   *    | 星形线 |
       |  k   | 黑色 | -.(--) | 点划线 |

       

    2. plot(a, b, 's')

       ​	若a,b为同维矩阵,则分别以a的各列为横坐标,b的各列为纵坐标,按照s指定的线性,画出若干曲线,曲线条数为a,b的列数.

       ​	若a为列向量,b为行数与a相同的矩阵, 则以a为横坐标,分别以b的各列为纵坐标画出曲线,曲线条数为b的列数

    3. plot(a1, b1, 's1', a2, b2, 's2', ...)

       此命令按照(2)中所述画多条曲线

​	hold on 命令: 将之前的所有图形叠加显示.

2. 图形标记
3. MATLAB提供在图形上添加网络,标题,x轴标记, y轴标记等函数. 表 1-4 给出了常用函数及功能

表 1-4

| 函数名 |       功能       |
| :----: | :--------------: |
| title  |   为图形加标题   |
| xlabel |   为x轴加标记    |
| ylabel |   为y轴加标记    |
|  text  | 为图形加文本注释 |
| gtext  |  用鼠标放置文本  |
|  grid  |     加网格线     |

```matlab
function ex0101()
x = 0 : pi / 15 : 2 * pi;
y1 = 0.5 * x .^ 2;
y2 = 10*sin(x);
plot(x, y1, 'r.-', x, y2);
grid
gtext("hello world");
xlabel('variable x')
ylabel('variable y')
title('x^2 and sin(x)');
text(6.2, -5.5, 'sin(x)');
text(6.2, 16, 'x^2');

```

